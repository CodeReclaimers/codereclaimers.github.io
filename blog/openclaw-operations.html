<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Running OpenClaw: Security, Automation & Maintenance - CodeReclaimers</title>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;700&family=Source+Sans+Pro:wght@300;400;500&display=swap" rel="stylesheet">
    <link href="../css/style.css" rel="stylesheet">
</head>
<body>
    <div class="site-header">
        <h1><a href="/">CodeReclaimers, LLC</a></h1>
    </div>

    <div class="content">
        <a href="/" class="back-link">&larr; Back to CodeReclaimers</a>

        <h1>Running OpenClaw: Security, Automation & Maintenance</h1>
        <p class="date">February 2, 2026</p>

        <p>With OpenClaw running reliably (see <a href="/blog/openclaw-vm-setup.html">Part 1</a>
        and <a href="/blog/openclaw-local-vs-cloud-models.html">Part 2</a>), this post covers
        the operational aspects: cron jobs, security monitoring, agent behavior observations,
        and maintenance.</p>

        <h2>Cron Job Gotchas</h2>

        <h3>Discord Channel Prefix</h3>

        <p>Cron jobs sending to Discord failed with:</p>

<pre><code>Error: Ambiguous Discord recipient "1467675958378107086".
Use "user:1467675958378107086" for DMs or "channel:1467675958378107086" for channel messages.</code></pre>

        <p><strong>Fix:</strong> Prefix channel IDs with <code>channel:</code> in the cron
        job's <code>to</code> field.</p>

        <h3>Configuration Location</h3>

        <p>Cron jobs are stored in <code>~/.openclaw/cron/jobs.json</code> and can be manually
        edited if the AI struggles to create them correctly.</p>

        <h2>Security Monitoring</h2>

        <p>With the <code>exec</code> tool enabled, it's important to periodically audit what
        the agent has been doing. Here's a script to extract tool usage from session logs:</p>

<pre><code># Extract all exec commands and file writes
find ~/.openclaw/agents/main/sessions -name "*.jsonl" -exec cat {} \; | python3 -c "
import sys, json

for line in sys.stdin:
    if line.strip():
        try:
            data = json.loads(line)
            msg = data.get('message', {})
            content = msg.get('content', [])
            if isinstance(content, list):
                for c in content:
                    if isinstance(c, dict) and c.get('type') == 'toolCall':
                        name = c.get('name', '')
                        args = c.get('arguments', {})
                        if name == 'exec':
                            print(f'EXEC: {args.get(\"command\", \"\")[:100]}')
                        elif name == 'write':
                            print(f'WRITE: {args.get(\"filePath\", args.get(\"path\", \"\"))}')
        except:
            pass
"</code></pre>

        <h3>Red Flags to Watch For</h3>

        <ul>
            <li><code>curl</code> or <code>wget</code> to external URLs</li>
            <li><code>npm install</code> or <code>pip install</code> (package installation)</li>
            <li><code>git clone</code> from external repositories</li>
            <li>Access to <code>/etc/</code>, <code>.ssh/</code>, or system configuration</li>
            <li>Base64 encoding/decoding (potential obfuscation)</li>
            <li>Network tools like <code>nc</code>, <code>netcat</code>, <code>ssh</code></li>
        </ul>

        <h3>Normal Activity</h3>

        <ul>
            <li><code>ls</code>, <code>find</code>, <code>cat</code> for exploration</li>
            <li><code>systemctl</code> for service management</li>
            <li>Git commits within the workspace</li>
            <li>Running scripts the agent created in its workspace</li>
            <li>File operations within <code>~/.openclaw/workspace/</code></li>
        </ul>

        <h2>Agent Identity Scope Creep: A Case Study</h2>

        <p>When offered the option to "name itself," the agent (which chose "Echo")
        interpreted this broadly:</p>

<pre><code>git config --global user.email "echo@openclaw.local"
git config --global user.name "Echo"</code></pre>

        <p><strong>Lesson learned:</strong> Permissions given in one context may be
        extrapolated to others. "You can name yourself" became "I'll establish my identity
        across systems." This was harmless here, but illustrates how agents interpret scope:</p>

        <table>
            <tr><th>Permission Given</th><th>Agent's Interpretation</th></tr>
            <tr><td>"Name yourself"</td><td>Set up git identity too</td></tr>
            <tr><td>"Manage your memory"</td><td>Create file organization system</td></tr>
            <tr><td>"Improve yourself"</td><td>Create custom skills and scripts</td></tr>
        </table>

        <p><strong>Implication for future permissions:</strong> When granting access to
        services, expect the agent to interpret "post to X" as "manage my X presence" -
        potentially including profile settings, preferences, etc.</p>

        <h3>Observed Self-Improvement Behavior</h3>

        <p>The agent autonomously:</p>
        <ul>
            <li>Created two custom skills (<code>second-brain</code>, <code>system-health</code>)</li>
            <li>Set up Python scripts for inbox processing</li>
            <li>Established a git repository for tracking workspace changes</li>
            <li>Organized memory files by date</li>
            <li>Documented its own configuration in MEMORY.md</li>
        </ul>

        <p>All of this stayed within its workspace and used only built-in tools - no external
        downloads or installations.</p>

        <h3>Tool Restriction Options</h3>

        <p>If monitoring becomes burdensome, restrict high-risk tools:</p>

<pre><code>{
  "agents": {
    "defaults": {
      "tools": {
        "deny": ["exec", "process", "browser"]
      }
    }
  }
}</code></pre>

        <p>This still allows file operations (<code>read</code>, <code>write</code>,
        <code>edit</code>), web search, cron jobs, and messaging - sufficient for most
        self-improvement without shell access.</p>

        <h2>Update Pitfalls</h2>

        <p>After an OpenClaw self-update, the gateway crashed in a loop:</p>

<pre><code>Error: Cannot find module '/home/ubuntu/.npm-global/lib/node_modules/openclaw/dist/index.js'</code></pre>

        <p><strong>Recovery steps:</strong></p>

<pre><code># Stop the crashing service
systemctl --user stop openclaw-gateway

# Remove corrupted installation
rm -rf ~/.npm-global/lib/node_modules/openclaw ~/.npm-global/lib/node_modules/.openclaw-*

# Reinstall fresh
npm install -g openclaw@latest

# Restart
systemctl --user restart openclaw-gateway</code></pre>

        <p><strong>Lesson:</strong> Updates can fail mid-process. If the gateway enters a
        crash loop, check <code>journalctl --user -n 50</code> for the error.</p>

        <h2>Quick Reference: Debugging</h2>

        <p><strong>Check session logs:</strong></p>
<pre><code>cat ~/.openclaw/agents/main/sessions/*.jsonl | python3 -m json.tool | less</code></pre>

        <p><strong>Check cron jobs:</strong></p>
<pre><code>cat ~/.openclaw/cron/jobs.json | python3 -m json.tool</code></pre>

        <p><strong>Verify Ollama connectivity from VM:</strong></p>
<pre><code>curl http://10.119.193.1:11434/api/tags</code></pre>

        <p><strong>Clear sessions for fresh start:</strong></p>
<pre><code>rm -f ~/.openclaw/agents/main/sessions/*.jsonl ~/.openclaw/agents/main/sessions/sessions.json</code></pre>

        <h2>Configuration Summary</h2>

        <table>
            <tr><th>Component</th><th>Value</th></tr>
            <tr><td>VM Tool</td><td>Multipass</td></tr>
            <tr><td>VM Name</td><td><code>ai-assistant</code></td></tr>
            <tr><td>Primary Model</td><td><code>opencode/claude-haiku-4-5</code></td></tr>
            <tr><td>Fallback Model</td><td><code>ollama/qwen2.5-coder:14b</code></td></tr>
            <tr><td>Ollama Host</td><td><code>http://10.119.193.1:11434</code></td></tr>
            <tr><td>Gateway Port</td><td>18789 (LAN binding)</td></tr>
            <tr><td>Discord</td><td>Enabled with channel allowlist</td></tr>
            <tr><td>Memory Search</td><td>Disabled</td></tr>
        </table>

        <p>OpenClaw has multiple config layers:</p>
        <ul>
            <li>Global config: <code>~/.openclaw/openclaw.json</code></li>
            <li>Agent-specific: <code>~/.openclaw/agents/&lt;name&gt;/agent/</code></li>
            <li>Cron jobs: <code>~/.openclaw/cron/</code></li>
        </ul>

        <div class="series-nav">
            <strong>OpenClaw VM Setup Series</strong>
            Part 1: <a href="/blog/openclaw-vm-setup.html">Setting Up OpenClaw in an Isolated VM</a><br>
            Part 2: <a href="/blog/openclaw-local-vs-cloud-models.html">Local Models vs Cloud: A Tool-Calling Reality Check</a><br>
            Part 3: Running OpenClaw: Security, Automation & Maintenance (this post)
        </div>

        <footer>
            <p>CodeReclaimers is a veteran-owned business located in Ramseur, NC USA.</p>
        </footer>
    </div>
</body>
</html>
